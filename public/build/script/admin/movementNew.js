let pValidator;function movementNewList(e,t){window.location.href=URL_PATH+"/admin/"+t}function movementSubmit(e){if(pValidator.validate()){SnLoadingState(!0,"jsAction","movementNewSubmit");var t={};t.id=e.movementId.value,t.movement=document.getElementById("movementMovement").value,t.amount=document.getElementById("movementAmount").value,t.methodId=document.getElementById("movementPaymentMethodId").value,t.currencyId=document.getElementById("movementCurrencyId").value,t.description=document.getElementById("movementDescription").value;const n=t.id&&!["","0"].includes(t.id.toString());RequestApi.fetch("/admin/processMovement/"+(n?"update":"create"),{method:"POST",body:t}).then(e=>{e.success?dynamicResponseSuccess(n,e.message,()=>{n?window.location.href=URL_PATH+"/admin/processMovement/edit/"+e.result.id:dynamicClearForm(pValidator,"movementForm","movementDescription")},()=>window.location.href=URL_PATH+"/admin/processMovement"):dynamicResponseErrorModalMessage(e)}).finally(e=>{SnLoadingState(!1,"jsAction","movementNewSubmit")})}else dynamicFormSubmitInvalidMessage()}document.addEventListener("DOMContentLoaded",()=>{pValidator=dynamicLoadFormValidate(pValidator,"movementForm");const t=document.getElementById("movementForm");t.addEventListener("submit",e=>{e.preventDefault(),movementSubmit(t)}),dynamicViewKeyboardListeners(screenName,appMenuActions)});