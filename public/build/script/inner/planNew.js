let pValidator;function planNewList(n,a){window.location.href=URL_PATH+"/inner/"+a}function planSubmit(n){if(pValidator.validate()){var a={};a.id=n.planId.value,a.description=n.planDescripcion.value;const e=a.id&&!["","0"].includes(a.id.toString());SnLoadingState(!0,"jsAction","planFormSubmit"),RequestApi.fetch("/inner/appPlan/"+(e?"update":"create"),{method:"POST",body:a}).then(n=>{n.success?dynamicResponseSuccess(e,n.message,()=>{e?window.location.href=URL_PATH+"/inner/appPlan/edit/"+n.result.id:dynamicClearForm(pValidator,"planForm","planName")},()=>window.location.href=URL_PATH+"/inner/appPlan"):dynamicResponseErrorModalMessage(n)}).finally(n=>{SnLoadingState(!1,"jsAction","planFormSubmit")})}else dynamicFormSubmitInvalidMessage()}document.addEventListener("DOMContentLoaded",()=>{pValidator=dynamicLoadFormValidate(pValidator,"planForm");const a=document.getElementById("planForm");a.addEventListener("submit",n=>{n.preventDefault(),planSubmit(a)})});